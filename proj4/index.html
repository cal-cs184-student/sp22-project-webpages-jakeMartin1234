<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Project 4 ~ Cloth Simulation</title>
        <link rel="icon" type="image/x-icon" href="assets/meshIcon.png" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" id="mainNav">
            <div class="container px-4">
                <a class="navbar-brand" href="#page-top">CS 184 Project 4 ~ Cloth Simulation</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item"><a class="nav-link" href="#about">About Project</a></li>
                        <li class="nav-item"><a class="nav-link" href="#Part1">Part 1</a></li>
                        <li class="nav-item"><a class="nav-link" href="#Part2">Part 2</a></li>
                        <li class="nav-item"><a class="nav-link" href="#Part3">Part 3</a></li>
                        <li class="nav-item"><a class="nav-link" href="#Part4">Part 4</a></li>
                        <li class="nav-item"><a class="nav-link" href="#Part5">Part 5</a></li>
                    </ul>
                </div>
            </div>
        </nav>
      
      
        <!-- About Section -->
        <section id="about">
            <div class="container px-4">
                <div class="row gx-4 justify-content-center">
                    <div class="col-lg-8">
                        <h2>About the project</h2>
                        <p class="lead">In this project I implemented realistic looking cloth animations by simulating how a cloth would act in a virtual 3D enviroment.</p>
                    </div>
                </div>
            </div>
        </section>
        <!-- Part 1 -->
        <section class="bg-light" id="Part1">
            <div class="container px-4">
                <div class="row gx-4 justify-content-center">
                    <div class="col-lg-8">
                        <h2>Part 1 - Masses and Springs</h2>
                        <p class="lead">In this part of the project, I constructed the wireframe which is used to simulate the mesh. This wireframe consists of a system of point masses connected by springs which is able to simulate a piece of cloth/ fabric with an accuracy such that it is indistinguishable to the human eye than a regular cloth.</p>
                        <p class="lead">Wireframe consisting of only shearing constraints:</p>
                        <p style="text-align:center;"><img src="assets/part1shear.png" alt="Sphereee Main" style="width: 70%;"></p>
                        <p class="lead">Wireframe consisting of only bending and structural constraints:</p>
                        <p style="text-align:center;"><img src="assets/part1noShear.png" alt="Sphereee Main" style="width: 70%;"></p>
                        <p class="lead">Wireframe consisting of shearing, bending and structural constraints:</p>
                        <p style="text-align:center;"><img src="assets/part1full.png" alt="Sphereee Main" style="width: 70%;"></p>
                    </div>
                </div>
            </div>
        </section>
        <!-- Part 2-->
        <section id="Part2">
            <div class="container px-4">
                <div class="row gx-4 justify-content-center">
                    <div class="col-lg-8">
                        <h2>Part 2: Simulation via Numerical Integration</h2>
                        <p class="lead">In this part of the project, I implemented the kinematics which determine how the system of springs and point masses interact with each other when inflicted with external forces (gravity being the sole external force in the renders produced for this part of the project).</p>
                        <p class="lead">These kinematic calculations were constructed such that the value of the spring constant, density of the cloth and damping.</p>
                        <p class="lead">Spring Constant Change: As the spring constant increases the cloth will sag less when it reaches its final position and will sag more at the final position when the spring constant decreases.</p>
                        <p class="lead">Density Change: The density of the cloth will mean that there is more force that the spring in the wireframe must react with. Due to Newtons force equation, F = ma, density change will have the inverse effect of spring constant change.</p>
                        <ul>
                            <li class="lead">Spring Constant Change: As the spring constant increases the cloth will sag less when it reaches its final position and will sag more at the final position when the spring constant decreases.</li>
                            <li class="lead">Density Change: The density of the cloth will mean that there is more force that the spring in the wireframe must react with. Due to Newtons force equation, F = ma, density change will have the inverse effect of spring constant change.</li>
                            <li class="lead">Damping Change: When the damping is higher the cloth maintains less of its momentum as there is more energy loss between time steps. As the damping approaches zero, the cloth will maintain more of this momentum/ energy from the previous time step and take longer to come to a rest.</li>
                        </ul>
                        <p class="lead">A render of the peice of cloth in a resting state with its four corners pinned in stationary positions. Normal shading is used in this image.</p>
                        <p style="text-align:center;"><img src="assets/part2.png" alt="Sphere Main" style="width: 100%;"></p>
                        <p class="lead">The photo below demonstrates changes between spring constants and also changes in denstity:</p>
                        <p style="text-align:center;"><img src="assets/part2spd.png" alt="Sphereee Main" style="width: 100%;"></p>
                        <p class="lead">The program is using zero damping in the photo below. It was not able to come to a complete stop because of this:</p>
                        <p style="text-align:center;"><img src="assets/part2noDamping.png" alt="Sphereee Main" style="width: 80%;"></p>
                    </div>
                </div>
            </div>
        </section>
        <!-- Part 3 -->
        <section class="bg-light" id="Part3">
            <div class="container px-4">
                <div class="row gx-4 justify-content-center">
                    <div class="col-lg-8">
                        <h2>Part 3 - Handling collisions with other objects</h2>
                        <p class="lead">In this part of the project, I implemented support for collisions in the virtual 3D environment. I added support for collision between the point masses in the cloth and spheres and between the point masses and the plane.</p>
                        <p class="lead">The below photos compare the cloth resting on the sphere with different spring constants. The higher the spring constant, the stiffer the cloth is. As you can see as the spring constant get higher, the cloth doesn’t drape as far down from the sphere. As the spring constant approaches infinity, the cloth will get closer to being a flat plane. As the spring constant gets closer to 0, the cloth will eventually stop changing as each spring cannot exceed 110% of its rest length.</p>
                        <p style="text-align:center;"><img src="assets/part3spc.png" alt="Sphere Main" style="width: 100%;"></p>
                        <p class="lead">The below render is of a cloth resting on a plane after falling from above it.</p>
                        <p style="text-align:center;"><img src="assets/part3plane.png" alt="Sphere Main" style="width: 100%;"></p>
                        <p class="lead">The below render is of a cloth resting on a plane while being held up by two pinned corners.</p>
                        <p style="text-align:center;"><img src="assets/part3pinnedPlane.png" alt="Sphere Main" style="width: 100%;"></p>
                    </div>
                </div>
            </div>
        </section>
        <!-- Part 4 -->
        <section id="Part4">
            <div class="container px-4">
                <div class="row gx-4 justify-content-center">
                    <div class="col-lg-8">
                        <h2>Part 4 - Handling self-collisions</h2>
                        <p class="lead">As explained in part 3, due to Newton’s second law, F = ma, the spring constant (which is proportional to the force that the spring exerts) has an inverse relationship with the density of the cloth (or mass each point mass). As the spring constant increases, the folds in the cloth get wider as there is more force from the springs resisting the downward forces caused by gravity. Should the density be higher, the load on the springs becomes larger and means that the folds become smaller. If the density is lowered, the folds become bigger, if the spring constant is lower, then this will cause the folds to become smaller.</p>
                        <p class="lead">I sped up the process of caluclating which particles are colliding with others by building a spacial map and only checking that two point masses collide if they are in the same spacial box determined by a pre-defined set of dimensions.</p>
                        <p class="lead">The following set of photos give three different stages of the process of a cloth falling on itself.</p>
                        <p style="text-align:center;"><img src="assets/part41.png" alt="Sphere Main" style="width: 100%;"></p>
                        <p style="text-align:center;"><img src="assets/part42.png" alt="Sphere Main" style="width: 100%;"></p>
                        <p style="text-align:center;"><img src="assets/part43.png" alt="Sphere Main" style="width: 100%;"></p>
                </div>
            </div>
        </section>
        <!-- Part 5 -->
        <section class="bg-light" id="Part5">
            <div class="container px-4">
                <div class="row gx-4 justify-content-center">
                    <div class="col-lg-8">
                        <h2>Part 5 - Shaders</h2>
                        <p class="lead">A shader is a generalized way to speed up giving a mesh object a texture/ lighting effect. Vertex shaders can change the geometric properties of the mesh like vector position. Fragment shaders determine the mesh’s color at each point on it by taking information determined by the vertex shader. This can change theoretical properties of the mesh like vector normals and vector tangents. It can also determine the light sources used in the scene.</p>

                        <p class="lead">The Bling Phong lighting model lights the 3D model by adding together the ambient, diffuse, and specular components of light. Ambient light is the color of the object, specular light is a reflection that comes off the cloth and diffuse lighting is light that is sampled uniformly across the point of intersection between the ray and the object that it is being intersected with. A diffuse lighted object looks matt whereas specular light is closer to resembling a mirror.
                        </p>
                        <p style="text-align:center;"><img src="assets/part5bpFinal.png" alt="Sphere Main" style="width: 100%;"></p>
                        <p class="lead">I also implemented texture mapping using shaders. In the below photo I have added a blanket texture to the cloth.</p>
                        <p class="lead">The following photo was rendered using 2048 samples per pixel with adaptive sampling.</p>
                        <p style="text-align:center;"><img src="assets/part5tex.png" alt="Sphere Main" style="width: 100%;"></p>
                        <p class="lead">The below photos compare different wiremesh resolutions with a bump mapping texture. Bump mapping gives a texture to the surface by chaning the normal that is used to calulate bling phong shading.</p>
                        <p style="text-align:center;"><img src="assets/part5bumpFinal.png" alt="Sphere Main" style="width: 100%;"></p>
                        <p class="lead">The below photos compare different wiremesh resolutions with a displacement mapping texture. This uses bump mapping aswell as actually chaning the verticy positions to match the height map. It is more computationally expensive but can yeild more realisitic results with high mesh resolutions.</p>
                        <p style="text-align:center;"><img src="assets/part5dispFinal.png" alt="Sphere Main" style="width: 100%;"></p>
                        <p class="lead">Below is a render of a cloth on a sphere using a mirror texture which determines the colour of each pixel representing the cloth by refrencing a cube map.</p>
                        <p style="text-align:center;"><img src="assets/part5mirror.png" alt="Sphere Main" style="width: 100%;"></p>
                    </div>
                </div>
            </div>
        </section>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
